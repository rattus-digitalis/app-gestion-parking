# .htaccess - Correction du routage
RewriteEngine On

# Empêcher l'affichage direct des fichiers JS
<Files "*.js">
    Order Deny,Allow
    Deny from all
    Allow from 127.0.0.1
    Allow from localhost
</Files>

# Rediriger toutes les requêtes vers index.php
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php [QSA,L]

# Permettre l'accès aux assets
RewriteCond %{REQUEST_URI} \.(css|js|png|jpg|jpeg|gif|ico|svg)$ [NC]
RewriteRule ^(.*)$ - [L]

# Configuration pour les fichiers statiques
<FilesMatch "\.(css|js|png|jpg|jpeg|gif|ico|svg)$">
    Header set Cache-Control "max-age=3600"
</FilesMatch>